<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mahen-mahindaratne.online</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="theme-roman">
    <div class="container">
        <div class="main-content">
            <div class="header">
                <h1>Quote Generators</h1>
                <p>Wisdom from ancient strategists and modern adventurers</p>
            </div>
            
            <div class="theme-selector">
                <button class="theme-btn roman active" id="romanTheme">
                    Roman Quotes
                </button>
                <button class="theme-btn tomb-raider" id="tombRaiderTheme">
                    Tomb Raider Quotes
                </button>
            </div>
            
            <div class="content-area">
                <div class="quote-section">
                    <div class="quote-container">
                        <div class="loading-overlay" id="loadingOverlay">
                            <div class="spinner"></div>
                            <p>Loading quotes...</p>
                        </div>
                        <div class="quote-text fade-in" id="quoteText">
                            If you want peace, prepare for war.
                        </div>
                        <div class="quote-author fade-in" id="quoteAuthor">
                            ‚Äî Vegetius
                        </div>
                        <div class="quote-game fade-in" id="quoteGame"></div>
                    </div>
                    
                    <div class="controls">
                        <button class="control-btn new-quote-btn" id="newQuote">
                            <span>üîÑ</span> New Quote
                        </button>
                        <button class="control-btn auto-toggle" id="autoToggle">
                            <span>‚è∏Ô∏è</span> Pause Auto
                        </button>
                    </div>
                </div>
                
                <div class="projects-sidebar">
                    <h3>Other Quote Generator Apps</h3>
                    <div class="project-links">
                        <div class="project-item">
                            <strong>Rome Total War (2004) | The Original App</strong>
                            <p>Quotes from the loading screens of the classic strategy game Rome Total War.</p>
                            <a href="./other/random-quote-generator-rome-total-war/index.html" class="demo-link" target="_blank">Live App</a>
                        </div>
                        <div class="project-item">
                            <strong>Reflections from Ancient Rome</strong>
                            <p>An app inspired by Gladiator (2000).</p>
                            <p><i>My name is Maximus Decimus Meridius,<br>Commander of the Armies of the North,<br>General of the Felix Legions,<br>Loyal servant to the true emperor, Marcus Aurelius,<br>Father to a murdered son,<br>Husband to a murdered wife,<br>and I will have my [Edited for the sake of Pax Romana].</i></p>
                            <a href="./other/random-quote-generator-rome/index.html" class="demo-link" target="_blank">Live App</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="stats">
                <div>Total Quotes: <span id="totalQuotes">0</span></div>
                <div>Current Theme: <span id="currentTheme">Roman</span></div>
            </div>
            
            <footer class="footer">
                <p>¬© 2025 Mahen Mahindaratne | All rights reserved</p>
                <a href="mailto:mmahindaratne88@gmail.com">mmahindaratne88@gmail.com</a>
                <div class="copyright-disclaimer">
                    Background images are used for educational/demonstration purposes only. 
                    I do not own the copyright to these images. All trademarks and copyrighted 
                    material are property of their respective owners.
                </div>
            </footer>
        </div>
    </div>
    
    <script>
        // Global variables
        let currentTheme = 'roman';
        let currentQuotes = [];
        let autoInterval = null;
        let isAutoEnabled = true;
        
        // DOM elements
        const quoteText = document.getElementById('quoteText');
        const quoteAuthor = document.getElementById('quoteAuthor');
        const quoteGame = document.getElementById('quoteGame');
        const romanThemeBtn = document.getElementById('romanTheme');
        const tombRaiderThemeBtn = document.getElementById('tombRaiderTheme');
        const newQuoteBtn = document.getElementById('newQuote');
        const autoToggleBtn = document.getElementById('autoToggle');
        const totalQuotesSpan = document.getElementById('totalQuotes');
        const currentThemeSpan = document.getElementById('currentTheme');
        const loadingOverlay = document.getElementById('loadingOverlay');
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadQuotes('roman');
            setupEventListeners();
        });
        
        // Set up event listeners
        function setupEventListeners() {
            romanThemeBtn.addEventListener('click', () => switchTheme('roman'));
            tombRaiderThemeBtn.addEventListener('click', () => switchTheme('tomb-raider'));
            newQuoteBtn.addEventListener('click', displayRandomQuote);
            autoToggleBtn.addEventListener('click', toggleAutoQuote);
        }
        
        // Load quotes from JSON file
        async function loadQuotes(theme) {
            try {
                showLoading();
                disableButtons();
                
                const response = await fetch(`/live-demo/data/${theme}-quotes.json`);
                
                if (!response.ok) {
                    throw new Error(`Failed to load ${theme} quotes: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (!Array.isArray(data) || data.length === 0) {
                    throw new Error(`No quotes found in ${theme} dataset`);
                }
                
                currentQuotes = data;
                currentTheme = theme;
                
                updateUI();
                displayRandomQuote();
                hideLoading();
                enableButtons();
                
                // Start auto quote rotation if enabled
                if (isAutoEnabled && !autoInterval) {
                    startAutoQuote();
                }
                
            } catch (error) {
                console.error('Error loading quotes:', error);
                showError(`Failed to load ${theme} quotes. Using fallback data.`);
                loadFallbackQuotes(theme);
            }
        }
        
        // Fallback quotes in case JSON files are not available
        function loadFallbackQuotes(theme) {
            const fallbackQuotes = {
                'roman': [
                    { content: "If you want peace, prepare for war.", author: "Vegetius" },
                    { content: "I came, I saw, I conquered.", author: "Julius Caesar" },
                    { content: "Experience is the teacher of all things.", author: "Julius Caesar" },
                    { content: "The die is cast.", author: "Julius Caesar" },
                    { content: "Fortune favors the bold.", author: "Virgil" }
                ],
                'tomb-raider': [
                    { content: "I'd finally set out to make my mark; to find adventure. But instead, adventure found me.", author: "Lara Croft", game: "Tomb Raider (2013)" },
                    { content: "Run, you bastards! I'm coming for you all!", author: "Lara Croft", game: "Tomb Raider (2013)" },
                    { content: "I'm not going home.", author: "Lara Croft", game: "Tomb Raider (2013)" },
                    { content: "You don't know how far I've come.", author: "Lara Croft", game: "Rise of the Tomb Raider" },
                    { content: "I'm done searching. I want to be around the living.", author: "Lara Croft", game: "Shadow of the Tomb Raider" }
                ]
            };
            
            currentQuotes = fallbackQuotes[theme] || fallbackQuotes.roman;
            currentTheme = theme;
            
            updateUI();
            displayRandomQuote();
            hideLoading();
            enableButtons();
            
            if (isAutoEnabled && !autoInterval) {
                startAutoQuote();
            }
        }
        
        // Switch between themes
        function switchTheme(theme) {
            if (theme === currentTheme) return;
            
            // Update active button
            romanThemeBtn.classList.remove('active');
            tombRaiderThemeBtn.classList.remove('active');
            
            if (theme === 'roman') {
                romanThemeBtn.classList.add('active');
                document.body.className = 'theme-roman';
            } else {
                tombRaiderThemeBtn.classList.add('active');
                document.body.className = 'theme-tomb-raider';
            }
            
            // Stop auto rotation during theme switch
            if (autoInterval) {
                clearInterval(autoInterval);
                autoInterval = null;
            }
            
            // Load new quotes
            loadQuotes(theme);
        }
        
        // Display a random quote
        function displayRandomQuote() {
            if (currentQuotes.length === 0) {
                quoteText.textContent = "No quotes available.";
                quoteAuthor.textContent = "";
                quoteGame.textContent = "";
                return;
            }
            
            const randomIndex = Math.floor(Math.random() * currentQuotes.length);
            const quote = currentQuotes[randomIndex];
            
            // Add fade animation
            quoteText.classList.remove('fade-in');
            quoteAuthor.classList.remove('fade-in');
            quoteGame.classList.remove('fade-in');
            
            setTimeout(() => {
                quoteText.textContent = quote.content;
                quoteAuthor.textContent = `‚Äî ${quote.author}`;
                
                // Show game information for Tomb Raider quotes
                if (quote.game) {
                    quoteGame.textContent = quote.game;
                } else {
                    quoteGame.textContent = "";
                }
                
                quoteText.classList.add('fade-in');
                quoteAuthor.classList.add('fade-in');
                quoteGame.classList.add('fade-in');
            }, 300);
        }
        
        // Start automatic quote rotation
        function startAutoQuote() {
            if (autoInterval) {
                clearInterval(autoInterval);
            }
            
            autoInterval = setInterval(displayRandomQuote, 8000); // Change quote every 8 seconds
            autoToggleBtn.innerHTML = '<span>‚è∏Ô∏è</span> Pause Auto';
            isAutoEnabled = true;
        }
        
        // Toggle automatic quote rotation
        function toggleAutoQuote() {
            if (isAutoEnabled) {
                // Pause auto rotation
                if (autoInterval) {
                    clearInterval(autoInterval);
                    autoInterval = null;
                }
                autoToggleBtn.innerHTML = '<span>‚ñ∂Ô∏è</span> Resume Auto';
                isAutoEnabled = false;
            } else {
                // Resume auto rotation
                startAutoQuote();
            }
        }
        
        // Update UI elements
        function updateUI() {
            totalQuotesSpan.textContent = currentQuotes.length;
            currentThemeSpan.textContent = currentTheme === 'roman' ? 'Roman' : 'Tomb Raider';
        }
        
        // Show loading state
        function showLoading() {
            loadingOverlay.style.display = 'flex';
            quoteText.style.opacity = '0.5';
            quoteAuthor.style.opacity = '0.5';
            quoteGame.style.opacity = '0.5';
        }
        
        // Hide loading state
        function hideLoading() {
            loadingOverlay.style.display = 'none';
            quoteText.style.opacity = '1';
            quoteAuthor.style.opacity = '1';
            quoteGame.style.opacity = '1';
        }
        
        // Disable buttons during loading
        function disableButtons() {
            romanThemeBtn.disabled = true;
            tombRaiderThemeBtn.disabled = true;
            newQuoteBtn.disabled = true;
            autoToggleBtn.disabled = true;
        }
        
        // Enable buttons after loading
        function enableButtons() {
            romanThemeBtn.disabled = false;
            tombRaiderThemeBtn.disabled = false;
            newQuoteBtn.disabled = false;
            autoToggleBtn.disabled = false;
        }
        
        // Show error message
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'error-message';
            errorDiv.textContent = message;
            
            // Insert after theme selector
            document.querySelector('.theme-selector').after(errorDiv);
            
            // Remove error message after 5 seconds
            setTimeout(() => {
                if (errorDiv.parentNode) {
                    errorDiv.parentNode.removeChild(errorDiv);
                }
            }, 5000);
        }
    </script>
</body>
</html>